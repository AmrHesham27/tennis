document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("searchToggle"),t=document.getElementById("searchExpanded"),s=document.getElementById("searchClose"),i=document.getElementById("searchInput"),a=document.getElementById("mobileMenuToggle"),c=document.getElementById("mainNav"),n=document.getElementById("blogsDropdown"),l=document.querySelector(".blogs-nav-link"),o=document.getElementById("mobileBlogsSubmenu");e.addEventListener("click",function(){t.classList.add("active"),i.focus()}),s.addEventListener("click",function(){t.classList.remove("active"),i.value=""});let v=window.innerWidth<=767;if(l&&n){let r;l.addEventListener("mouseenter",function(){v||(clearTimeout(r),n.classList.add("active"),l.classList.add("active"))}),l.addEventListener("mouseleave",function(){v||(r=setTimeout(()=>{n.classList.remove("active"),l.classList.remove("active")},200))}),n.addEventListener("mouseenter",function(){v||clearTimeout(r)}),n.addEventListener("mouseleave",function(){v||(r=setTimeout(()=>{n.classList.remove("active"),l.classList.remove("active")},200))}),l.addEventListener("click",function(e){v&&(e.preventDefault(),o.classList.toggle("active"),l.classList.toggle("active"))}),window.addEventListener("resize",function(){v=window.innerWidth<=767,v=window.innerWidth<=767})}a.addEventListener("click",function(){c.classList.toggle("active"),a.classList.toggle("active")});let d=document.querySelectorAll(".nav-link");d.forEach(e=>{e.addEventListener("click",function(){v&&e.classList.contains("blogs-nav-link")||(c.classList.remove("active"),a.classList.remove("active"))})});let L=document.querySelectorAll(".submenu-link");L.forEach(e=>{e.addEventListener("click",function(){o.classList.remove("active"),l.classList.remove("active"),c.classList.remove("active"),a.classList.remove("active")})}),document.addEventListener("keydown",function(e){"Escape"===e.key&&t.classList.contains("active")&&(t.classList.remove("active"),i.value=""),"Escape"===e.key&&n.classList.contains("active")&&(n.classList.remove("active"),l.classList.remove("active")),"Escape"===e.key&&o.classList.contains("active")&&(o.classList.remove("active"),l.classList.remove("active")),"Escape"===e.key&&c.classList.contains("active")&&(c.classList.remove("active"),a.classList.remove("active"))}),i.addEventListener("input",function(e){let t=e.target.value.toLowerCase();console.log("Searching for:",t)}),document.addEventListener("click",function(s){!t.contains(s.target)&&!e.contains(s.target)&&t.classList.contains("active")&&(t.classList.remove("active"),i.value=""),!(!n.contains(s.target)&&!l.contains(s.target)&&n.classList.contains("active"))||v&&l.contains(s.target)||(n.classList.remove("active"),l.classList.remove("active")),!o.contains(s.target)&&!l.contains(s.target)&&o.classList.contains("active")&&(o.classList.remove("active"),l.classList.remove("active")),!c.contains(s.target)&&!a.contains(s.target)&&c.classList.contains("active")&&(c.classList.remove("active"),a.classList.remove("active"))}),window.addEventListener("resize",function(){window.innerWidth>767&&(c.classList.remove("active"),a.classList.remove("active")),(v=window.innerWidth<=767)?(n.classList.remove("active"),l.classList.remove("active")):(o.classList.remove("active"),l.classList.remove("active"))}),document.querySelectorAll(".author-link").forEach(e=>{e.addEventListener("click",function(t){t.preventDefault(),t.stopImmediatePropagation(),window.location.href=e.dataset.href}),e.addEventListener("keydown",function(t){"Enter"===t.key&&(window.location.href=e.dataset.href)})}),new Swiper(".swiper",{slidesPerView:1,spaceBetween:10,navigation:{nextEl:".next-btn",prevEl:".prev-btn"},breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:3}}})});