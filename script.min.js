document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("searchToggle"),t=document.getElementById("searchExpanded"),s=document.getElementById("searchClose"),i=document.getElementById("searchInput"),n=document.getElementById("mobileMenuToggle"),a=document.getElementById("mainNav"),c=document.getElementById("blogsDropdown"),o=document.querySelector(".blogs-nav-link"),l=document.getElementById("mobileBlogsSubmenu");document.getElementById("cookieConsent");let v=document.getElementById("acceptCookies"),r=document.getElementById("declineCookies");function d(){let e=document.getElementById("cookieConsent");e&&e.classList.remove("show")}v&&v.addEventListener("click",function e(){d()}),r&&r.addEventListener("click",function e(){d()}),function e(){let t=document.getElementById("cookieConsent");!(null!==localStorage.getItem("cookieConsent"))&&t?setTimeout(()=>{t.classList.add("show")},1e3):console.log("Cookie consent will not show - already consented or element not found")}(),setTimeout(()=>{let e=document.getElementById("cookieConsent");e&&e.classList.add("show")},2e3),e.addEventListener("click",function(){t.classList.add("active"),i.focus()}),s.addEventListener("click",function(){t.classList.remove("active"),i.value=""});let L=window.innerWidth<=767;if(o&&c){let m;o.addEventListener("mouseenter",function(){L||(clearTimeout(m),c.classList.add("active"),o.classList.add("active"))}),o.addEventListener("mouseleave",function(){L||(m=setTimeout(()=>{c.classList.remove("active"),o.classList.remove("active")},200))}),c.addEventListener("mouseenter",function(){L||clearTimeout(m)}),c.addEventListener("mouseleave",function(){L||(m=setTimeout(()=>{c.classList.remove("active"),o.classList.remove("active")},200))}),o.addEventListener("click",function(e){L&&(e.preventDefault(),l.classList.toggle("active"),o.classList.toggle("active"))}),window.addEventListener("resize",function(){L=window.innerWidth<=767,L=window.innerWidth<=767})}n.addEventListener("click",function(){a.classList.toggle("active"),n.classList.toggle("active")});let u=document.querySelectorAll(".nav-link");u.forEach(e=>{e.addEventListener("click",function(){L&&e.classList.contains("blogs-nav-link")||(a.classList.remove("active"),n.classList.remove("active"))})});let g=document.querySelectorAll(".submenu-link");g.forEach(e=>{e.addEventListener("click",function(){l.classList.remove("active"),o.classList.remove("active"),a.classList.remove("active"),n.classList.remove("active")})}),document.addEventListener("keydown",function(e){"Escape"===e.key&&t.classList.contains("active")&&(t.classList.remove("active"),i.value=""),"Escape"===e.key&&c.classList.contains("active")&&(c.classList.remove("active"),o.classList.remove("active")),"Escape"===e.key&&l.classList.contains("active")&&(l.classList.remove("active"),o.classList.remove("active")),"Escape"===e.key&&a.classList.contains("active")&&(a.classList.remove("active"),n.classList.remove("active"))}),i.addEventListener("input",function(e){e.target.value.toLowerCase()}),document.addEventListener("click",function(s){!t.contains(s.target)&&!e.contains(s.target)&&t.classList.contains("active")&&(t.classList.remove("active"),i.value=""),!(!c.contains(s.target)&&!o.contains(s.target)&&c.classList.contains("active"))||L&&o.contains(s.target)||(c.classList.remove("active"),o.classList.remove("active")),!l.contains(s.target)&&!o.contains(s.target)&&l.classList.contains("active")&&(l.classList.remove("active"),o.classList.remove("active")),!a.contains(s.target)&&!n.contains(s.target)&&a.classList.contains("active")&&(a.classList.remove("active"),n.classList.remove("active"))}),window.addEventListener("resize",function(){window.innerWidth>767&&(a.classList.remove("active"),n.classList.remove("active")),(L=window.innerWidth<=767)?(c.classList.remove("active"),o.classList.remove("active")):(l.classList.remove("active"),o.classList.remove("active"))}),document.querySelectorAll(".author-link").forEach(e=>{e.addEventListener("click",function(t){t.preventDefault(),t.stopImmediatePropagation(),window.location.href=e.dataset.href}),e.addEventListener("keydown",function(t){"Enter"===t.key&&(window.location.href=e.dataset.href)})})});